import './polyfills.server.mjs';
import{E as F,G as D,H as z,I as B,J as V,M as G,S as H,a as S,b as p,c as w,d as k,e as u,f as O,g as c,h as l,i as _,j as f,k as W,l as j,m as I,n as T,o,p as r,q as s,r as A,s as E,t as d,u as y,v as a,w as b,x as m}from"./chunk-WQI5WS5M.mjs";import{a as M,b as x}from"./chunk-VVCT4QZE.mjs";var g=(()=>{class t{constructor(){this.movies=[],this.movieBank=[{id:1,title:"Inception",year:2010,rating:5,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/8IB2e4r4oVhHnANbnm7O3Tj6tF8.jpg"},{id:2,title:"The Dark Knight",year:2008,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/qJ2tW6WMUDux911r6m7haRef0WH.jpg"},{id:3,title:"Interstellar",year:2014,rating:4,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/gEU2QniL6E77NI6lCU6MxlNBvIx.jpg"},{id:4,title:"Avatar: The Way of Water",year:2022,rating:4,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},{id:5,title:"The Matrix",year:1999,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg"},{id:6,title:"Avengers: Endgame",year:2019,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/or06FN3Dka5tukK1e9sl16pB3iy.jpg"},{id:7,title:"Spider-Man: No Way Home",year:2021,rating:4,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/1g0dhYtq4irTY1GPXvft6k4GY0d.jpg"},{id:8,title:"Top Gun: Maverick",year:2022,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/62HCnUTziyWcpDaBO2i1DX17ljH.jpg"},{id:9,title:"Dune",year:2021,rating:4,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/d5NXSklXo0qyIYkgV94XAgMIckC.jpg"},{id:10,title:"Black Panther",year:2018,rating:4,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/uxzzxijgPIY7slzFvMotPv8wjKA.jpg"},{id:11,title:"Joker",year:2019,rating:5,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/udDclJoHjfjb8Ekgsd4FDteOkCU.jpg"},{id:12,title:"Pulp Fiction",year:1994,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg"},{id:13,title:"Fight Club",year:1999,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg"},{id:14,title:"The Godfather",year:1972,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/3bhkrj58Vtu7enYsRolD1fZdja1.jpg"},{id:15,title:"The Shawshank Redemption",year:1994,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg"},{id:16,title:"Parasite",year:2019,rating:5,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg"},{id:17,title:"Forrest Gump",year:1994,rating:4,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/arw2vcBveWOVZr6pxd9XTd1TdQa.jpg"},{id:18,title:"Spider-Man: Into the Spider-Verse",year:2018,rating:5,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/xnopI5Xtky18MPhK40cZAGAOVeV.jpg"},{id:19,title:"Coco",year:2017,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/gGEsBPAijhVUFoiNpgZXqRVWJt2.jpg"},{id:20,title:"The Lion King",year:1994,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/sKCr78MXSLixwmZ8DyJLrpMsd15.jpg"},{id:21,title:"Spirited Away",year:2001,rating:5,isWatched:!1,image:"https://image.tmdb.org/t/p/w500/39wmItIWsg5sZMyRUKGudW53yola.jpg"},{id:22,title:"Toy Story",year:1995,rating:4,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/uXDfjJbdP4ijW5hWSBrPrlKpxab.jpg"},{id:23,title:"Wall-E",year:2008,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/hExQp2CstkGkN3W4721A0Fm1M8E.jpg"},{id:24,title:"Titanic",year:1997,rating:4,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/9xjZS2rlVxm8SFx8kPC3aIGCOYQ.jpg"},{id:25,title:"Back to the Future",year:1985,rating:5,isWatched:!0,image:"https://image.tmdb.org/t/p/w500/fNOH9f1aA7XRTzl1sAQL9QB476a.jpg"}]}addRandomMovie(){this.movies.push(this.movieBank[Math.floor(Math.random()*this.movieBank.length)])}deleteMovie(i){this.movies=this.movies.filter(e=>e.id!==i)}updateRating(i,e){this.movies=this.movies.map(n=>n.id===i?x(M({},n),{rating:n.rating+e}):n)}toggleWatched(i){this.movies=this.movies.map(e=>e.id===i?x(M({},e),{watched:!e.isWatched}):e)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function K(t,h){t&1&&(o(0,"div",3),a(1," Vu "),r())}function Q(t,h){t&1&&(A(0),o(1,"span",19),a(2,"\u2605"),r(),E())}var R=(()=>{class t{constructor(i){this.movieService=i,this.movie=this.movieService.movies[0],this.nbrStars=2,this.starsArray=Array(this.nbrStars).fill(0).map((e,n)=>n),this.isWatched=!1,this.view=new u,this.delete=new u,this.rate=new u}updateStars(){this.starsArray=Array(this.nbrStars).fill(0).map((i,e)=>e),this.rate.emit(this.nbrStars)}onAdd(){this.nbrStars+1<=5&&(this.nbrStars+=1,this.updateStars(),this.movieService.updateRating(this.movie.id,1))}onSub(){this.nbrStars-1>=1&&(this.nbrStars-=1,this.updateStars(),this.movieService.updateRating(this.movie.id,-1))}onView(){this.isWatched=!this.isWatched,this.view.emit(this.isWatched),this.movieService.toggleWatched(this.movie.id)}onDelete(){this.movieService.deleteMovie(this.movie.id),this.delete.emit()}onCardClick(i){!this.isWatched||i.target.closest("button")||(this.isWatched=!1,this.view.emit(this.isWatched),this.movieService.toggleWatched(this.movie.id))}static{this.\u0275fac=function(e){return new(e||t)(l(g))}}static{this.\u0275cmp=p({type:t,selectors:[["app-movie-card"]],inputs:{movie:"movie"},outputs:{view:"view",delete:"delete",rate:"rate"},standalone:!0,features:[m],decls:24,vars:8,consts:[[1,"movie-card",3,"click"],[1,"movie-poster-container"],[1,"movie-poster",3,"src","alt"],[1,"watched-badge"],[1,"movie-content"],[1,"movie-title"],[1,"movie-rating"],[4,"ngFor","ngForOf"],[1,"button-group"],[1,"counter-buttons"],[1,"btn-counter",3,"click"],[1,"action-buttons"],[1,"btn-action","btn-view",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["title","Delete",1,"btn-action","btn-trash",3,"click"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],[1,"star"]],template:function(e,n){e&1&&(o(0,"div",0),d("click",function(U){return n.onCardClick(U)}),o(1,"div",1),s(2,"img",2),_(3,K,2,0,"div",3),r(),o(4,"div",4)(5,"h2",5),a(6),r(),o(7,"div",6),_(8,Q,3,0,"ng-container",7),r(),o(9,"div",8)(10,"div",9)(11,"button",10),d("click",function(){return n.onSub()}),a(12,"-"),r(),o(13,"button",10),d("click",function(){return n.onAdd()}),a(14,"+"),r()(),o(15,"div",11)(16,"button",12),d("click",function(){return n.onView()}),w(),o(17,"svg",13),s(18,"path",14)(19,"circle",15),r()(),k(),o(20,"button",16),d("click",function(){return n.onDelete()}),w(),o(21,"svg",13),s(22,"polyline",17)(23,"path",18),r()()()()()()),e&2&&(W("watched",n.isWatched),c(2),y("alt",n.movie.title),f("src",n.movie.image,O),c(),j(3,n.isWatched?3:-1),c(3),b(n.movie.title),c(2),f("ngForOf",n.starsArray),c(8),y("title",n.isWatched?"Marquer comme non vu":"Marquer comme vu"))},dependencies:[z,D],styles:['.movie-card[_ngcontent-%COMP%]{width:280px;background:#1a1a1a;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;position:relative;cursor:default}.movie-card[_ngcontent-%COMP%]:not(.watched):hover{transform:translateY(-5px);box-shadow:0 8px 20px #0006}.movie-card.watched[_ngcontent-%COMP%]{opacity:.5;filter:grayscale(100%);cursor:pointer;transition:all .3s ease}.movie-card.watched[_ngcontent-%COMP%]:hover{opacity:.7;transform:translateY(-2px)}.movie-card.watched[_ngcontent-%COMP%]   .btn-counter[_ngcontent-%COMP%], .movie-card.watched[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{pointer-events:none!important;background:#1a1a1a;border-color:#2a2a2a;color:#555;cursor:not-allowed;opacity:.5}.movie-poster-container[_ngcontent-%COMP%]{position:relative;width:100%;height:400px;overflow:hidden}.movie-poster[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:all .3s ease}.movie-card[_ngcontent-%COMP%]:not(.watched):hover   .movie-poster[_ngcontent-%COMP%]{filter:brightness(1.1);transform:scale(1.05)}.watched-badge[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:#34c759f2;color:#fff;padding:8px 16px;border-radius:20px;font-size:13px;font-weight:700;text-transform:uppercase;letter-spacing:1px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 2px 8px #0000004d;z-index:10;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.movie-card.watched[_ngcontent-%COMP%]   .movie-poster[_ngcontent-%COMP%]{filter:grayscale(100%) brightness(.6)}.movie-card.watched[_ngcontent-%COMP%]   .movie-content[_ngcontent-%COMP%]{opacity:.6}.movie-card.watched[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{color:#888}.movie-card.watched[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:#666;text-shadow:none}.movie-content[_ngcontent-%COMP%]{padding:20px;transition:all .3s ease}.movie-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#fff;margin:0 0 12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:all .3s ease}.movie-rating[_ngcontent-%COMP%]{margin-bottom:16px}.star[_ngcontent-%COMP%]{font-size:20px;color:gold;margin-right:2px;text-shadow:0 0 3px rgba(255,215,0,.5);transition:all .3s ease}.button-group[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.counter-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-counter[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:6px;border:2px solid #333;background:#2a2a2a;font-size:18px;font-weight:700;color:#fff;cursor:pointer;transition:all .2s ease}.btn-counter[_ngcontent-%COMP%]:hover{background:#3a3a3a;border-color:#555;transform:translateY(-2px)}.btn-counter[_ngcontent-%COMP%]:active{transform:translateY(0)}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto}.btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;border:2px solid #333;background:#2a2a2a;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;color:#aaa}.btn-view[_ngcontent-%COMP%]:hover{background:#3a7bd5;border-color:#3a7bd5;color:#fff;transform:translateY(-2px)}.btn-trash[_ngcontent-%COMP%]:hover{background:#e74c3c;border-color:#e74c3c;color:#fff;transform:translateY(-2px)}.btn-action[_ngcontent-%COMP%]:active{transform:translateY(0)}.movie-card.watched[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0000004d;pointer-events:none;z-index:1}.movie-card.watched[_ngcontent-%COMP%]   .watched-badge[_ngcontent-%COMP%]{z-index:11}']})}}return t})();var Z=(t,h)=>h.id;function $(t,h){if(t&1&&s(0,"app-movie-card",4),t&2){let i=h.$implicit;f("movie",i)}}var Y=(()=>{class t{constructor(i){this.movieService=i}get movies(){return this.movieService.movies}ngOnInit(){let i=this.movieService.movies;console.log(i)}static{this.\u0275fac=function(e){return new(e||t)(l(g))}}static{this.\u0275cmp=p({type:t,selectors:[["app-movie-list"]],standalone:!0,features:[m],decls:9,vars:1,consts:[[1,"container"],[1,"header"],[1,"count"],[1,"movie-grid"],[3,"movie"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Ma liste \xE0 voir"),r(),o(4,"span",2),a(5),r()(),o(6,"div",3),I(7,$,1,1,"app-movie-card",4,Z),r()()),e&2&&(c(5),b(n.movies.length),c(2),T(n.movies))},dependencies:[R],styles:[".container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:40px 20px;background:#0a0a0a;min-height:100vh}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:32px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;color:#fff;margin:0;font-weight:700}.count[_ngcontent-%COMP%]{background:#333;color:#fff;padding:8px 16px;border-radius:20px;font-size:16px;font-weight:600}.movie-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:24px}"]})}}return t})();var X=(()=>{class t{constructor(i){this.movieService=i}onSugg(){this.movieService.addRandomMovie()}static{this.\u0275fac=function(e){return new(e||t)(l(g))}}static{this.\u0275cmp=p({type:t,selectors:[["app-header"]],standalone:!0,features:[m],decls:4,vars:0,consts:[[1,"navbar"],["src","assets/logo.jpg"],[3,"click"]],template:function(e,n){e&1&&(o(0,"nav",0),s(1,"img",1),o(2,"button",2),d("click",function(){return n.onSugg()}),a(3,"Suggere un film"),r()())},styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 20px;height:60px;background-color:#000}.navbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background-color:red;color:#fff;border:none;border-radius:4px;cursor:pointer}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return t})();var N=(()=>{class t{constructor(){this.title="project"}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-root"]],standalone:!0,features:[m],decls:2,vars:0,template:function(e,n){e&1&&s(0,"app-header")(1,"app-movie-list")},dependencies:[Y,X]})}}return t})();var q=[];var J={providers:[H(q),V()]};var tt={providers:[G()]},L=F(J,tt);var et=()=>B(N,L),jt=et;export{jt as a};
